@using GBCSporting_LAIR.Models.ViewModels.RegViewModel
@model List<Registration>

<h1>List of Registration</h1>

<div class="col-12 text-end">
    <a class="btn btn-primary" asp-controller="Registration" asp-action="CustomerSelect">Add New Registration</a>
</div>
    @try
    {
      if (Model.Count() > 0)
      {
        <table class="table table-bordered table-striped" style="width:100%">
              <thead>
                  <tr>
                      <th>Customer</th>
                      <th>Product</th>
                      <th>Date Registered</th>
                      <th></th>
                  </tr>
              </thead>
              <tbody>
          @foreach (var item in Model) {
              <tr>
                  <td>
                    <a asp-action="Details" asp-controller="Customer" asp-route-id="@item.CustomerId">
                      @Html.DisplayFor(modelItem => item.Customer.FullName)
                    </a>
                  </td>
                  <td>
                      @Html.DisplayFor(modelItem => item.Product.Name)
                  </td>
                  <td>
                      @Html.DisplayFor(modelItem => item.RegisteredDate)
                  </td>
                  <td width="5%">
                      <a class="btn btn-danger" asp-action="Delete" asp-route-id="@item.CustomerId">Delete</a>
                  </td>
              </tr>
          }
        </tbody>
    </table>
  }
  else
  {
    <h3 style="border-top: 1px solid #e8e8e8; font-style:italic; color: #d8d8d8;">Data NOT FOUND</h3>
  }
}
    catch (Exception e)
    {
        <pre>An errror occurred.</pre>
        <pre>@e</pre>
    }