@using GBCSporting_LAIR.Models
@using GBCSporting_LAIR.Models.ViewModels.IncidentViewModels
@model AddEditIncidentViewModel
@{
    ViewBag.Title = Model.Operation == "Add" ? "Add new incident" : "Update incident";
    var endpoint = Model.Operation == "Add" ? "Create" : "EditConfirm";
}

@using (Html.BeginForm(endpoint, "Incident", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    if (Model.Id.HasValue)
    {
        @Html.Hidden("IncidentId", Model.Id)
    }

    <div class="form-group">
        <label>Customers</label>
        @Html.DropDownList("CustomerId", Model.Customers, Model.Operation == "Add" ? "Select Customer" : null, htmlAttributes: new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Products</label>
        @Html.DropDownList("ProductId", Model.Products, Model.Operation == "Add" ? "Select Product" : null, htmlAttributes: new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Title</label>
        @Html.TextBox("Title", Model.Title, htmlAttributes: new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Description</label>
        @Html.TextBox("Description", Model.Description, htmlAttributes: new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Technicians</label>
        @Html.DropDownList("TechnicianId", Model.Technicians, Model.Operation == "Add" ? "Select Technician" : null, htmlAttributes: new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label>Date Opened</label>
        @Html.TextBox("DateOpened", Model.DateOpened, htmlAttributes: new { @class = "form-control" })
    </div>

    <input style="margin-top:10px;" type="submit" class="btn btn-primary" value="Submit" />
}